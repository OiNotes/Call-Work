
> telegram-shop-backend@1.0.0 test
> NODE_OPTIONS=--experimental-vm-modules jest

[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:45"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:45"}
[32minfo[39m: [WalletService] Generated BTC address at m/44'/0'/0'/0/0: 1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf {"timestamp":"2025-11-05 20:10:45"}
[32minfo[39m: [CryptoPriceService] Fetching fresh prices from CoinGecko... {"timestamp":"2025-11-05 20:10:45"}
[32minfo[39m: [CryptoPriceService] Prices fetched successfully: {"BTC":103494,"ETH":3421.29,"LTC":88.2,"USDT_ERC20":0.999887,"USDT_TRC20":0.999887,"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [Invoice] Generated {"address":"1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf","addressIndex":0,"chain":"BTC","cryptoAmount":"0.00097107","cryptoPrice":103494,"derivationPath":"m/44'/0'/0'/0/0","orderId":"879","timestamp":"2025-11-05 20:10:46","usdAmount":"100.50000000"}
[32minfo[39m: Response sent {"duration":"902ms","method":"POST","path":"/879/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [WalletService] Generated ETH address at m/44'/60'/0'/0/0: 0x28C724BC264b1BEfFbBaA60c34B0852a6590dfAe {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [CryptoPriceService] Using cached price for ETH: $3421.29 {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [Invoice] Generated {"address":"0x28C724BC264b1BEfFbBaA60c34B0852a6590dfAe","addressIndex":0,"chain":"ETH","cryptoAmount":"0.029374","cryptoPrice":3421.29,"derivationPath":"m/44'/60'/0'/0/0","orderId":"879","timestamp":"2025-11-05 20:10:46","usdAmount":"100.50000000"}
[32minfo[39m: Response sent {"duration":"10ms","method":"POST","path":"/879/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [WalletService] Generated BTC address at m/44'/0'/0'/0/0: 1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [CryptoPriceService] Using cached price for BTC: $103494 {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [Invoice] Generated {"address":"1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf","addressIndex":0,"chain":"BTC","cryptoAmount":"0.00097107","cryptoPrice":103494,"derivationPath":"m/44'/0'/0'/0/0","orderId":"879","timestamp":"2025-11-05 20:10:46","usdAmount":"100.50000000"}
[32minfo[39m: Response sent {"duration":"10ms","method":"POST","path":"/879/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/880/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [WalletService] Generated BTC address at m/44'/0'/0'/0/1: 19DhbvyWpwVEJbroPTXhtpT7pLdZ4ykT5v {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [CryptoPriceService] Using cached price for BTC: $103494 {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [Invoice] Generated {"address":"19DhbvyWpwVEJbroPTXhtpT7pLdZ4ykT5v","addressIndex":1,"chain":"BTC","cryptoAmount":"0.00048311","cryptoPrice":103494,"derivationPath":"m/44'/0'/0'/0/1","orderId":"880","timestamp":"2025-11-05 20:10:46","usdAmount":"50.00000000"}
[32minfo[39m: Response sent {"duration":"7ms","method":"POST","path":"/880/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [WalletService] Generated BTC address at m/44'/0'/0'/0/0: 1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [CryptoPriceService] Using cached price for BTC: $103494 {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [Invoice] Generated {"address":"1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf","addressIndex":0,"chain":"BTC","cryptoAmount":"0.00097107","cryptoPrice":103494,"derivationPath":"m/44'/0'/0'/0/0","orderId":"879","timestamp":"2025-11-05 20:10:46","usdAmount":"100.50000000"}
[32minfo[39m: Response sent {"duration":"7ms","method":"POST","path":"/879/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/879/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/879/invoice","statusCode":400,"timestamp":"2025-11-05 20:10:46","userId":5271}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/879/invoice","statusCode":401,"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/879/invoice","timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [WalletService] Generated BTC address at m/44'/0'/0'/0/0: 1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [CryptoPriceService] Using cached price for BTC: $103494 {"timestamp":"2025-11-05 20:10:46"}
[32minfo[39m: [Invoice] Generated {"address":"1BLjk7hfvYRBZATnGgxQvdrnKuPLmKqycf","addressIndex":0,"chain":"BTC","cryptoAmount":"0.00097107","cryptoPrice":103494,"derivationPath":"m/44'/0'/0'/0/0","orderId":"879","timestamp":"2025-11-05 20:10:46","usdAmount":"100.50000000"}
[32minfo[39m: Response sent {"duration":"7ms","method":"POST","path":"/879/invoice","statusCode":200,"timestamp":"2025-11-05 20:10:46","userId":5271}
  console.warn
    ‚ö†Ô∏è  HD_XPUB_USDT not configured, skipping test

      276 |     it('should map USDT to USDT_ERC20 by default', async () => {
      277 |       if (!process.env.HD_XPUB_USDT) {
    > 278 |         console.warn('‚ö†Ô∏è  HD_XPUB_USDT not configured, skipping test');
          |                 ^
      279 |         return;
      280 |       }
      281 |

      at Object.<anonymous> (__tests__/payment/hd-wallet-invoice.test.js:278:17)

[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [ShopController] Creating shop: {"name":"test_shop_123","tier":"basic","timestamp":"2025-11-05 20:10:47","userId":5272}
[32minfo[39m: Response sent {"duration":"11ms","method":"POST","path":"/","statusCode":201,"timestamp":"2025-11-05 20:10:47","userId":5272}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5273}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5274}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5275}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5276}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: Rate limit exceeded {"ip":"::ffff:127.0.0.1","method":"POST","path":"/","timestamp":"2025-11-05 20:10:47","userId":5277}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":429,"timestamp":"2025-11-05 20:10:47","userId":5277}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: Rate limit exceeded {"ip":"::ffff:127.0.0.1","method":"POST","path":"/","timestamp":"2025-11-05 20:10:47","userId":5278}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":429,"timestamp":"2025-11-05 20:10:47","userId":5278}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: Rate limit exceeded {"ip":"::ffff:127.0.0.1","method":"POST","path":"/","timestamp":"2025-11-05 20:10:47","userId":5279}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":429,"timestamp":"2025-11-05 20:10:47","userId":5279}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: Rate limit exceeded {"ip":"::ffff:127.0.0.1","method":"POST","path":"/","timestamp":"2025-11-05 20:10:47","userId":5280}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":429,"timestamp":"2025-11-05 20:10:47","userId":5280}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: Rate limit exceeded {"ip":"::ffff:127.0.0.1","method":"POST","path":"/","timestamp":"2025-11-05 20:10:47","userId":5281}
[32minfo[39m: Response sent {"duration":"0ms","method":"POST","path":"/","statusCode":429,"timestamp":"2025-11-05 20:10:47","userId":5281}
[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/register","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Existing user logged in: 999999999 (@csrf_test_user) {"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"10ms","method":"POST","path":"/register","statusCode":200,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5282}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: 404 Not Found {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"PUT","path":"/api/auth/role","statusCode":404,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/shops/123","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"3ms","method":"DELETE","path":"/123","statusCode":404,"timestamp":"2025-11-05 20:10:47","userId":5282}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: 404 Not Found {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/api/auth/role","statusCode":404,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: 404 Not Found {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/api/auth/role","statusCode":404,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5282}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: 404 Not Found {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"0ms","method":"POST","path":"/api/auth/role","statusCode":404,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/shops/active","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"2ms","method":"GET","path":"/active","statusCode":200,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"HEAD","path":"/health","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"0ms","method":"HEAD","path":"/health","statusCode":200,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/webhooks/blockcypher","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [Webhook] BlockCypher notification received: {"blockHeight":800000,"confirmations":3,"timestamp":"2025-11-05 20:10:47","txHash":"0x123test"}
[32minfo[39m: [BlockCypher] Webhook received: {"blockHeight":800000,"confirmations":3,"timestamp":"2025-11-05 20:10:47","txHash":"0x123test"}
[33mwarn[39m: [Webhook] No invoice found for transaction outputs {"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"4ms","method":"POST","path":"/blockcypher","statusCode":404,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"GET","path":"/health","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"GET","path":"/health","statusCode":200,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5282}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"0ms","method":"POST","path":"/","statusCode":400,"timestamp":"2025-11-05 20:10:47","userId":5282}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[33mwarn[39m: 404 Not Found {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/auth/role","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"1ms","method":"PUT","path":"/api/auth/role","statusCode":404,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/","statusCode":404,"timestamp":"2025-11-05 20:10:47","userId":5282}
[32minfo[39m: Database pool closed {"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Queued product sync job for follow 1 {"followId":1,"followerShopId":1,"jobId":"26","sourceShopId":2,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 1 {"followId":1,"followerShopId":1,"sourceShopId":2,"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: Error syncing products for follow 1: Follow 1 not found {"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: [SyncQueue] Sync failed for follow 1: {"error":"Follow 1 not found","followId":1,"stack":"","timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Queued product sync job for follow 2 {"followId":2,"followerShopId":2,"jobId":"27","sourceShopId":3,"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: [SyncQueue] Job 26 failed {"attempts":1,"error":"Follow 1 not found","followId":1,"jobId":"26","maxAttempts":3,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Sync job already queued for follow 2 {"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Queued product sync job for follow 3 {"followId":3,"followerShopId":3,"jobId":"28","sourceShopId":4,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 3 {"followId":3,"followerShopId":3,"sourceShopId":4,"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: Error syncing products for follow 3: Follow 3 not found {"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: [SyncQueue] Sync failed for follow 3: {"error":"Follow 3 not found","followId":3,"stack":"","timestamp":"2025-11-05 20:10:47"}
[31merror[39m: [SyncQueue] Job 28 failed {"attempts":1,"error":"Follow 3 not found","followId":3,"jobId":"28","maxAttempts":3,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Queued product sync job for follow 4 {"followId":4,"followerShopId":4,"jobId":"29","sourceShopId":5,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 4 {"followId":4,"followerShopId":4,"sourceShopId":5,"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: Query error: {"error":"Cannot use a pool after calling end on the pool","stack":"","timestamp":"2025-11-05 20:10:47"}
[31merror[39m: Error syncing products for follow 4: Cannot use a pool after calling end on the pool {"timestamp":"2025-11-05 20:10:47"}
[31merror[39m: [SyncQueue] Sync failed for follow 4: {"error":"Cannot use a pool after calling end on the pool","followId":4,"stack":"","timestamp":"2025-11-05 20:10:47"}
[31merror[39m: [SyncQueue] Job 29 failed {"attempts":1,"error":"Cannot use a pool after calling end on the pool","followId":4,"jobId":"29","maxAttempts":3,"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Closing queue... {"timestamp":"2025-11-05 20:10:47"}
[32minfo[39m: [SyncQueue] Queue closed {"timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"15ms","method":"POST","path":"/","statusCode":201,"timestamp":"2025-11-05 20:10:48","userId":5283}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/","statusCode":201,"timestamp":"2025-11-05 20:10:48","userId":5287}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/","statusCode":403,"timestamp":"2025-11-05 20:10:48","userId":5291}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/products/1911","timestamp":"2025-11-05 20:10:48"}
  console.warn
    [WebSocket] Instance not initialized, skipping broadcast

      20 | export function broadcast(event, data) {
      21 |   if (!wssInstance) {
    > 22 |     console.warn('[WebSocket] Instance not initialized, skipping broadcast');
         |             ^
      23 |     return;
      24 |   }
      25 |

      at broadcast (src/utils/websocket.js:22:13)
      at update (src/controllers/productController.js:278:7)

[32minfo[39m: Response sent {"duration":"6ms","method":"PUT","path":"/1911","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5292}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/products/1912","timestamp":"2025-11-05 20:10:48"}
  console.warn
    [WebSocket] Instance not initialized, skipping broadcast

      20 | export function broadcast(event, data) {
      21 |   if (!wssInstance) {
    > 22 |     console.warn('[WebSocket] Instance not initialized, skipping broadcast');
         |             ^
      23 |     return;
      24 |   }
      25 |

      at broadcast (src/utils/websocket.js:22:13)
      at update (src/controllers/productController.js:278:7)

[32minfo[39m: Response sent {"duration":"3ms","method":"PUT","path":"/1912","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5296}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"PUT","path":"/api/products/1913","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"3ms","method":"PUT","path":"/1913","statusCode":403,"timestamp":"2025-11-05 20:10:48","userId":5300}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/products/1914","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"3ms","method":"DELETE","path":"/1914","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5301}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/products/1915","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"2ms","method":"DELETE","path":"/1915","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5305}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/products/1916","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"3ms","method":"DELETE","path":"/1916","statusCode":403,"timestamp":"2025-11-05 20:10:48","userId":5309}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/bulk-delete-all","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-delete-all","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5310}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/bulk-delete-all","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-delete-all","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5314}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/bulk-delete-all","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/bulk-delete-all","statusCode":403,"timestamp":"2025-11-05 20:10:48","userId":5318}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/bulk-delete-by-ids","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/bulk-delete-by-ids","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5319}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/bulk-delete-by-ids","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-delete-by-ids","statusCode":200,"timestamp":"2025-11-05 20:10:48","userId":5323}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/bulk-delete-by-ids","timestamp":"2025-11-05 20:10:48"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-delete-by-ids","statusCode":403,"timestamp":"2025-11-05 20:10:48","userId":5327}
[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"4ms","method":"POST","path":"/bulk-status","statusCode":401,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":401,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/bulk-status","statusCode":400,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":400,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":400,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":400,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"9ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"5ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"4ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –û—Ç–º–µ–Ω—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –û—Ç–º–µ–Ω—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –û—Ç–º–µ–Ω—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-status","statusCode":404,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-status","statusCode":403,"timestamp":"2025-11-05 20:10:49","userId":5329}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #883\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #882\n–°—Ç–∞—Ç—É—Å: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"888002","text":"‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #881\n–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/bulk-status","statusCode":200,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":404,"timestamp":"2025-11-05 20:10:49","userId":5328}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/orders/bulk-status","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/bulk-status","statusCode":404,"timestamp":"2025-11-05 20:10:49","userId":5328}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"9000300015","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #887\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Test Product","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"9000300020","text":"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #888\n–°—Ç–∞—Ç—É—Å: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω\nüì¶ Analytics Product 1","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"9000300020","text":"üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #889\n–°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω\nüì¶ Analytics Product 2","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:49","userId":111111111,"username":"newuser_test"}
[32minfo[39m: New user created via Telegram validation: 111111111 (@newuser_test) {"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"9ms","method":"POST","path":"/telegram-validate","statusCode":201,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:49","userId":222222222,"username":"existinguser_test"}
[32minfo[39m: New user created via Telegram validation: 222222222 (@existinguser_test) {"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/telegram-validate","statusCode":201,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:49","userId":222222222,"username":"existinguser_test"}
[32minfo[39m: Existing user logged in via Telegram validation: 222222222 (@existinguser_test) {"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/telegram-validate","statusCode":200,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:49","userId":333333333,"username":"updatable_user"}
[32minfo[39m: New user created via Telegram validation: 333333333 (@updatable_user) {"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/telegram-validate","statusCode":201,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:49","userId":333333333,"username":"updatable_user"}
[32minfo[39m: User info updated via Telegram validation: 333333333 {"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"3ms","method":"POST","path":"/telegram-validate","statusCode":200,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[33mwarn[39m: Invalid Telegram initData signature {"expectedHash":"c63bed91...","ip":"::ffff:127.0.0.1","path":"/telegram-validate","providedHash":"deadbeef...","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/telegram-validate","statusCode":401,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:49"}
[33mwarn[39m: Invalid Telegram initData signature {"expectedHash":"6aff008a...","ip":"::ffff:127.0.0.1","path":"/telegram-validate","providedHash":"e77221ae...","timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Response sent {"duration":"0ms","method":"POST","path":"/telegram-validate","statusCode":401,"timestamp":"2025-11-05 20:10:49"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[33mwarn[39m: Missing hash in initData {"ip":"::ffff:127.0.0.1","path":"/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"0ms","method":"POST","path":"/telegram-validate","statusCode":401,"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[33mwarn[39m: Expired Telegram initData {"age":90000,"authDate":1762272650,"currentTime":1762362650,"ip":"::ffff:127.0.0.1","path":"/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/telegram-validate","statusCode":401,"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[33mwarn[39m: Missing Telegram initData {"ip":"::ffff:127.0.0.1","method":"POST","path":"/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"0ms","method":"POST","path":"/telegram-validate","statusCode":401,"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:50","userId":888888888}
[32minfo[39m: New user created via Telegram validation: 888888888 (@undefined) {"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/telegram-validate","statusCode":201,"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/telegram-validate","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Telegram user validated {"timestamp":"2025-11-05 20:10:50","userId":999999999,"username":"ivan"}
[32minfo[39m: New user created via Telegram validation: 999999999 (@ivan) {"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"1ms","method":"POST","path":"/telegram-validate","statusCode":201,"timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Serving webapp static files from: {"path":"/Users/sile/Documents/Status Stock 4.0/webapp/dist","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops/4398/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Worker added to shop {"addedBy":5359,"shopId":"4398","timestamp":"2025-11-05 20:10:50","workerId":556,"workerUserId":5361}
[32minfo[39m: Response sent {"duration":"9ms","method":"POST","path":"/4398/workers","statusCode":201,"timestamp":"2025-11-05 20:10:50","userId":5359}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops/4399/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/4399/workers","statusCode":403,"timestamp":"2025-11-05 20:10:50","userId":5360}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops/4398/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/4398/workers","statusCode":403,"timestamp":"2025-11-05 20:10:50","userId":5361}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops/4398/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/4398/workers","statusCode":404,"timestamp":"2025-11-05 20:10:50","userId":5359}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/shops/4398/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"2ms","method":"POST","path":"/4398/workers","statusCode":400,"timestamp":"2025-11-05 20:10:50","userId":5359}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/shops/4398/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"2ms","method":"GET","path":"/4398/workers","statusCode":200,"timestamp":"2025-11-05 20:10:50","userId":5359}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/shops/4398/workers","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"1ms","method":"GET","path":"/4398/workers","statusCode":403,"timestamp":"2025-11-05 20:10:50","userId":5360}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/shops/4398/workers/557","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Worker removed from shop {"removedBy":5359,"shopId":"4398","timestamp":"2025-11-05 20:10:50","workerId":"557","workerUserId":5361}
[32minfo[39m: Response sent {"duration":"2ms","method":"DELETE","path":"/4398/workers/557","statusCode":200,"timestamp":"2025-11-05 20:10:50","userId":5359}
[32minfo[39m: Incoming request {"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/shops/4398/workers/558","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Response sent {"duration":"3ms","method":"DELETE","path":"/4398/workers/558","statusCode":403,"timestamp":"2025-11-05 20:10:50","userId":5360}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/check-limit","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/check-limit","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/check-limit","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/check-limit","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/check-limit","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":616,"followerShopId":4425,"mode":"monitor","sourceShopId":4427,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":618,"followerShopId":4430,"mode":"monitor","sourceShopId":4433,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":621,"followerShopId":4441,"mode":"monitor","sourceShopId":4442,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":622,"followerShopId":4441,"mode":"monitor","sourceShopId":4443,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":623,"followerShopId":4441,"mode":"monitor","sourceShopId":4444,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":624,"followerShopId":4446,"mode":"monitor","sourceShopId":4450,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":625,"followerShopId":4446,"mode":"monitor","sourceShopId":4451,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":626,"followerShopId":4446,"mode":"monitor","sourceShopId":4452,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":627,"followerShopId":4446,"mode":"monitor","sourceShopId":4453,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":628,"followerShopId":4446,"mode":"monitor","sourceShopId":4454,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":629,"followerShopId":4446,"mode":"monitor","sourceShopId":4455,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":630,"followerShopId":4446,"mode":"monitor","sourceShopId":4456,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":631,"followerShopId":4446,"mode":"monitor","sourceShopId":4457,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":632,"followerShopId":4446,"mode":"monitor","sourceShopId":4458,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[32minfo[39m: Follow created {"followId":633,"followerShopId":4446,"mode":"monitor","sourceShopId":4459,"timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/my","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/638/products","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"GET","path":"/639/products","timestamp":"2025-11-05 20:10:50"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/verify","timestamp":"2025-11-05 20:10:51"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/verify","timestamp":"2025-11-05 20:10:51"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/verify","timestamp":"2025-11-05 20:10:51"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/verify","timestamp":"2025-11-05 20:10:51"}
[34mdebug[39m: Skipping Telegram validation in development/test {"env":"test","method":"POST","path":"/verify","timestamp":"2025-11-05 20:10:51"}
[32minfo[39m: New user registered: 9000123456 (@newuser) {"timestamp":"2025-11-05 20:10:51"}
[32minfo[39m: Existing user logged in: 9000111222 (@different_username) {"timestamp":"2025-11-05 20:10:51"}
[32minfo[39m: User 5433 updating role to: seller {"timestamp":"2025-11-05 20:10:51"}
[32minfo[39m: User 5434 updating role to: buyer {"timestamp":"2025-11-05 20:10:51"}
[34mdebug[39m: Telegram send mocked in test environment {"chatId":"9100000002","text":"üöö –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞\n\n–ó–∞–∫–∞–∑ #902\n–°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω\nüì¶ Premium Keyboard","timestamp":"2025-11-05 20:10:51"}
[32minfo[39m: Worker added to shop {"addedBy":5448,"shopId":"4519","timestamp":"2025-11-05 20:10:51","workerId":559,"workerUserId":5449}
[32minfo[39m: Worker added to shop {"addedBy":5463,"shopId":"4533","timestamp":"2025-11-05 20:10:52","workerId":560,"workerUserId":5464}
[32minfo[39m: Worker removed from shop {"removedBy":5470,"shopId":"4539","timestamp":"2025-11-05 20:10:52","workerId":"562","workerUserId":5471}
[32minfo[39m: [RateLimit] Shop 1: 1/2 migrations used this month {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1: 2/2 migrations used this month {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1: 0/2 migrations used this month {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1 tier: pro {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1 tier: basic {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1 tier: pro {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1: 1/2 migrations used this month {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [RateLimit] Shop 1 tier: basic {"timestamp":"2025-11-05 20:10:52"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 2 {"followId":2,"followerShopId":2,"sourceShopId":3,"timestamp":"2025-11-05 20:15:34"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 3 {"followId":3,"followerShopId":3,"sourceShopId":4,"timestamp":"2025-11-05 20:15:34"}
[31merror[39m: Error syncing products for follow 2: Follow 2 not found {"timestamp":"2025-11-05 20:15:34"}
[31merror[39m: [SyncQueue] Sync failed for follow 2: {"error":"Follow 2 not found","followId":2,"stack":"","timestamp":"2025-11-05 20:15:34"}
[31merror[39m: [SyncQueue] Job 31 failed {"attempts":1,"error":"Follow 2 not found","followId":2,"jobId":"31","maxAttempts":3,"timestamp":"2025-11-05 20:15:34"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 4 {"followId":4,"followerShopId":4,"sourceShopId":5,"timestamp":"2025-11-05 20:15:34"}
[31merror[39m: Error syncing products for follow 3: Follow 3 not found {"timestamp":"2025-11-05 20:15:34"}
[31merror[39m: [SyncQueue] Sync failed for follow 3: {"error":"Follow 3 not found","followId":3,"stack":"","timestamp":"2025-11-05 20:15:34"}
[31merror[39m: [SyncQueue] Job 32 failed {"attempts":1,"error":"Follow 3 not found","followId":3,"jobId":"32","maxAttempts":3,"timestamp":"2025-11-05 20:15:34"}
[31merror[39m: Error syncing products for follow 4: Follow 4 not found {"timestamp":"2025-11-05 20:15:34"}
[31merror[39m: [SyncQueue] Sync failed for follow 4: {"error":"Follow 4 not found","followId":4,"stack":"","timestamp":"2025-11-05 20:15:34"}
[31merror[39m: [SyncQueue] Job 33 failed {"attempts":1,"error":"Follow 4 not found","followId":4,"jobId":"33","maxAttempts":3,"timestamp":"2025-11-05 20:15:34"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 1 {"followId":1,"followerShopId":1,"sourceShopId":2,"timestamp":"2025-11-05 20:15:36"}
[31merror[39m: Error syncing products for follow 1: Follow 1 not found {"timestamp":"2025-11-05 20:15:36"}
[31merror[39m: [SyncQueue] Sync failed for follow 1: {"error":"Follow 1 not found","followId":1,"stack":"","timestamp":"2025-11-05 20:15:36"}
[31merror[39m: [SyncQueue] Job 30 failed {"attempts":2,"error":"Follow 1 not found","followId":1,"jobId":"30","maxAttempts":3,"timestamp":"2025-11-05 20:15:36"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 3 {"followId":3,"followerShopId":3,"sourceShopId":4,"timestamp":"2025-11-05 20:15:36"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 4 {"followId":4,"followerShopId":4,"sourceShopId":5,"timestamp":"2025-11-05 20:15:36"}
[31merror[39m: Error syncing products for follow 3: Follow 3 not found {"timestamp":"2025-11-05 20:15:36"}
[31merror[39m: [SyncQueue] Sync failed for follow 3: {"error":"Follow 3 not found","followId":3,"stack":"","timestamp":"2025-11-05 20:15:36"}
[31merror[39m: Error syncing products for follow 4: Follow 4 not found {"timestamp":"2025-11-05 20:15:36"}
[31merror[39m: [SyncQueue] Sync failed for follow 4: {"error":"Follow 4 not found","followId":4,"stack":"","timestamp":"2025-11-05 20:15:36"}
[31merror[39m: [SyncQueue] Job 32 failed {"attempts":2,"error":"Follow 3 not found","followId":3,"jobId":"32","maxAttempts":3,"timestamp":"2025-11-05 20:15:36"}
[31merror[39m: [SyncQueue] Job 33 failed {"attempts":2,"error":"Follow 4 not found","followId":4,"jobId":"33","maxAttempts":3,"timestamp":"2025-11-05 20:15:36"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 3 {"followId":3,"followerShopId":3,"sourceShopId":4,"timestamp":"2025-11-05 20:26:49"}
[31merror[39m: Query error: {"error":"Cannot use a pool after calling end on the pool","stack":"","timestamp":"2025-11-05 20:26:49"}
[31merror[39m: Error syncing products for follow 3: Cannot use a pool after calling end on the pool {"timestamp":"2025-11-05 20:26:49"}
[31merror[39m: [SyncQueue] Sync failed for follow 3: {"error":"Cannot use a pool after calling end on the pool","followId":3,"stack":"","timestamp":"2025-11-05 20:26:49"}
[31merror[39m: [SyncQueue] Job 36 failed {"attempts":1,"error":"Cannot use a pool after calling end on the pool","followId":3,"jobId":"36","maxAttempts":3,"timestamp":"2025-11-05 20:26:49"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 4 {"followId":4,"followerShopId":4,"sourceShopId":5,"timestamp":"2025-11-05 20:26:49"}
[31merror[39m: Error syncing products for follow 4: Follow 4 not found {"timestamp":"2025-11-05 20:26:49"}
[31merror[39m: [SyncQueue] Sync failed for follow 4: {"error":"Follow 4 not found","followId":4,"stack":"","timestamp":"2025-11-05 20:26:49"}
[31merror[39m: [SyncQueue] Job 37 failed {"attempts":1,"error":"Follow 4 not found","followId":4,"jobId":"37","maxAttempts":3,"timestamp":"2025-11-05 20:26:49"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 4 {"followId":4,"followerShopId":4,"sourceShopId":5,"timestamp":"2025-11-05 20:26:51"}
[31merror[39m: Error syncing products for follow 4: Follow 4 not found {"timestamp":"2025-11-05 20:26:51"}
[31merror[39m: [SyncQueue] Sync failed for follow 4: {"error":"Follow 4 not found","followId":4,"stack":"","timestamp":"2025-11-05 20:26:51"}
[31merror[39m: [SyncQueue] Job 37 failed {"attempts":2,"error":"Follow 4 not found","followId":4,"jobId":"37","maxAttempts":3,"timestamp":"2025-11-05 20:26:51"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 1 {"followId":1,"followerShopId":1,"sourceShopId":2,"timestamp":"2025-11-05 20:26:57"}
[32minfo[39m: [SyncQueue] Starting product sync for follow 2 {"followId":2,"followerShopId":2,"sourceShopId":3,"timestamp":"2025-11-05 20:26:57"}
[31merror[39m: Error syncing products for follow 1: Follow 1 not found {"timestamp":"2025-11-05 20:26:57"}
[31merror[39m: [SyncQueue] Sync failed for follow 1: {"error":"Follow 1 not found","followId":1,"stack":"","timestamp":"2025-11-05 20:26:57"}
[31merror[39m: Error syncing products for follow 2: Follow 2 not found {"timestamp":"2025-11-05 20:26:57"}
[31merror[39m: [SyncQueue] Sync failed for follow 2: {"error":"Follow 2 not found","followId":2,"stack":"","timestamp":"2025-11-05 20:26:57"}
[31merror[39m: [SyncQueue] Job 34 failed {"attempts":3,"error":"Follow 1 not found","followId":1,"jobId":"34","maxAttempts":3,"timestamp":"2025-11-05 20:26:57"}
[31merror[39m: [SyncQueue] Job 35 failed {"attempts":3,"error":"Follow 2 not found","followId":2,"jobId":"35","maxAttempts":3,"timestamp":"2025-11-05 20:26:57"}
