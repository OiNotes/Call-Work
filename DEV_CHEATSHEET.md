# üöÄ Dev Cheatsheet - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üéØ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 1. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```bash
cd backend
npm run db:seed
```

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**
- ‚úÖ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (2 buyer + 3 seller)
- ‚úÖ 3 –º–∞–≥–∞–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ 21 —Ç–æ–≤–∞—Ä (18 –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö + 3 —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö)
- ‚úÖ 3 –ø–æ–¥–ø–∏—Å–∫–∏ –º–µ–∂–¥—É –º–∞–≥–∞–∑–∏–Ω–∞–º–∏ (follows)
- ‚úÖ 5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# Backend
cd backend && npm run dev

# Bot (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd bot && npm run dev

# WebApp (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd webapp && npm run dev
```

## üë§ –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

### Buyers (–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏)

| Telegram ID | Username | –ò–º—è | –ß—Ç–æ –µ—Å—Ç—å |
|-------------|----------|-----|----------|
| `111111111` | test_buyer1 | Alex Johnson | 2 –∑–∞–∫–∞–∑–∞, –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ 2 –º–∞–≥–∞–∑–∏–Ω–∞ |
| `222222222` | test_buyer2 | Maria Garcia | 2 –∑–∞–∫–∞–∑–∞, –ø–æ–¥–ø–∏—Å–∞–Ω–∞ –Ω–∞ 2 –º–∞–≥–∞–∑–∏–Ω–∞ |

### Sellers (–ü—Ä–æ–¥–∞–≤—Ü—ã)

| Telegram ID | Username | –ò–º—è | –ú–∞–≥–∞–∑–∏–Ω | –¢–æ–≤–∞—Ä–æ–≤ |
|-------------|----------|-----|---------|---------|
| `333333333` | test_seller1 | John Smith | **Tech Gadgets Pro** | 8 —Ç–æ–≤–∞—Ä–æ–≤ (–≥–∞–¥–∂–µ—Ç—ã) |
| `444444444` | test_seller2 | Emma Wilson | **Fashion Store** | 4 + 3 —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö |
| `555555555` | test_seller3 | Michael Brown | **Game Store** | 6 —Ç–æ–≤–∞—Ä–æ–≤ (–∏–≥—Ä—ã) |

## üîó –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ "–°–ª–µ–¥–∏—Ç—å"

**Fashion Store** —É–∂–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞:

1. **Tech Gadgets Pro** (resell, +25% –Ω–∞—Ü–µ–Ω–∫–∞)
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: iPhone 15 Pro Max ($1199 ‚Üí $1498.75)
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: AirPods Pro 2 ($249 ‚Üí $311.25)

2. **Game Store** (resell, +15% –Ω–∞—Ü–µ–Ω–∫–∞)
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: Cyberpunk 2077 ($59.99 ‚Üí $68.99)

**Game Store** –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞:
- **Tech Gadgets Pro** (monitor, —Ç–æ–ª—å–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ)

### –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–í–æ–π—Ç–∏ –∫–∞–∫ Emma Wilson** (444444444)
2. –û—Ç–∫—Ä—ã—Ç—å —Ä–∞–∑–¥–µ–ª **"–°–ª–µ–¥–∏—Ç—å"**
3. –£–≤–∏–¥–µ—Ç—å 2 –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏
4. –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏ - —É–≤–∏–¥–µ—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
5. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Ü–µ–Ω–∫—É / –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º / —É–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

## üì¶ –ë—ã—Å—Ç—Ä—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –º–∞–≥–∞–∑–∏–Ω—ã
psql postgresql://sile@localhost:5432/telegram_shop -c "
  SELECT u.username, u.selected_role, s.name as shop
  FROM users u LEFT JOIN shops s ON s.owner_id = u.id;"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ (follows)
psql postgresql://sile@localhost:5432/telegram_shop -c "
  SELECT s1.name as follower, s2.name as source, sf.mode, sf.markup_percentage
  FROM shop_follows sf
  JOIN shops s1 ON s1.id = sf.follower_shop_id
  JOIN shops s2 ON s2.id = sf.source_shop_id;"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–∞–º–∏
psql postgresql://sile@localhost:5432/telegram_shop -c "
  SELECT p1.name as synced, p1.price as new_price,
         p2.price as original_price, s.name as shop
  FROM synced_products sp
  JOIN products p1 ON p1.id = sp.synced_product_id
  JOIN products p2 ON p2.id = sp.source_product_id
  JOIN shops s ON s.id = p1.shop_id;"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã
psql postgresql://sile@localhost:5432/telegram_shop -c "
  SELECT o.id, u.username, p.name, o.status, o.total_price, o.currency
  FROM orders o
  JOIN users u ON u.id = o.buyer_id
  JOIN products p ON p.id = o.product_id;"
```

## üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å —á–∏—Å—Ç—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ:

```bash
cd backend
npm run db:seed  # –û—á–∏—Å—Ç–∏—Ç –≤—Å—ë –∏ —Å–æ–∑–¥–∞—Å—Ç —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
```

## üé® WebApp - –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –†–∞–∑–¥–µ–ª "–°–ª–µ–¥–∏—Ç—å" (Follows)

1. **–°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫** (`/follows`)
   - –ö–∞—Ä—Ç–æ—á–∫–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Å —Ä–µ–∂–∏–º–æ–º –∏ –Ω–∞—Ü–µ–Ω–∫–æ–π
   - –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏

2. **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** (`/follow/:id`)
   - –¢–∞–±—ã: "–¢–æ–≤–∞—Ä—ã" / "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"
   - **–¢–æ–≤–∞—Ä—ã:**
     - Monitor mode: —Å–ø–∏—Å–æ–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
     - Resell mode: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω (–æ—Ä–∏–≥–∏–Ω–∞–ª ‚Üí —Å –Ω–∞—Ü–µ–Ω–∫–æ–π)
   - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
     - –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Ü–µ–Ω–∫—É (1-500%)
     - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º (monitor ‚Üî resell)
     - –£–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å hover —ç—Ñ—Ñ–µ–∫—Ç—ã:**
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏, –±–µ–∑ "—É–±–µ–≥–∞–Ω–∏—è"
   - –ü–ª–∞–≤–Ω—ã–µ transitions
   - –†–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

## üêõ –û—Ç–ª–∞–¥–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:3000/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
psql postgresql://sile@localhost:5432/telegram_shop -c "SELECT COUNT(*) FROM users;"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ backend
tail -f backend/logs/combined.log

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ bot
tail -f bot/logs/bot.log
```

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Seed README:** `backend/database/SEED_README.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Main README:** `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **Backend API:** `backend/README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **Bot Guide:** `bot/README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–æ—Ç–∞
- **WebApp Guide:** `webapp/README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏ —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏. üéâ
